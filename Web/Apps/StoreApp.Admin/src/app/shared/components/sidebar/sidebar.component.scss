@use 'shared/variables' as *;
@use 'shared/mixins' as *;

$sidebar-width: 250px;
$sidebar-width-collapsed: 60px;
$sidebar-padding: $spacing-md;
$sidebar-shadow: $shadow-md;

.sidebar {
  width: $sidebar-width;
  height: 100vh;
  background: var(--sidebar);
  border-right: 1px solid var(--sidebar-border);
  @include shadow($sidebar-shadow);
  position: fixed;
  top: 0;
  left: 0;
  z-index: $z-index-sticky;
  transition: width $transition-normal;
  overflow: hidden;

  &.collapsed {
    width: $sidebar-width-collapsed;
  }
}

.sidebar-content {
  @include flex-column;
  height: 100%;
  padding: $sidebar-padding;
  padding-top: calc($header-height + $spacing-md);
}

.sidebar-nav {
  @include flex-column;
  flex: 1;
  gap: $spacing-sm;
}

.sidebar-item {
  @include flex-center;
  padding: $spacing-sm $spacing-md;
  border-radius: $border-radius-md;
  color: var(--sidebar-contrast);
  text-decoration: none;
  transition: all $transition-fast;
  cursor: pointer;

  &:hover {
    background: var(--sidebar-button-hover);
  }

  &.active {
    background: var(--sidebar-button);
    font-weight: 500;
  }

  .sidebar.collapsed & {
    justify-content: center;
    padding: $spacing-sm;
  }
}

.sidebar-icon {
  width: 20px;
  height: 20px;
  margin-right: $spacing-sm;
  filter: var(--icon-filter);

  .sidebar.collapsed & {
    margin-right: 0;
  }
}

.sidebar-text {
  font-family: $font-family-primary;
  font-size: $font-size-sm;
  font-weight: 400;
  white-space: nowrap;

  .sidebar.collapsed & {
    display: none;
  }
}

@include respond-below('md') {
  .sidebar {
    transform: translateX(-100%);
    
    &.open {
      transform: translateX(0);
    }
  }
}

@include dark-theme {
  .sidebar {
    background: $dark-bg-surface;
    border-right-color: $dark-border;
  }
}
