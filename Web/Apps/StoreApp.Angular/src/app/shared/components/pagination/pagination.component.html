<div class="pagination-wrapper" [class.disabled]="disabled">
  @if (boundaryLinks) {
    <button
      class="nav-button"
      [disabled]="disabled || isFirstPage"
      (click)="goToFirst()"
    >
      «
    </button>
  }

  @if (directionLinks) {
    <button
      class="nav-button"
      [disabled]="disabled || isFirstPage"
      (click)="goToPrevious()"
    >
      ← Previous
    </button>
  }

  <div class="page-items">
    @for (item of pageItems; track item) {
      @if (item.type === 'page') {
        <button
          class="page-button"
          [class.active]="item.isActive"
          (click)="goToPage(item.number!)"
          [disabled]="disabled"
        >
          {{ item.number }}
        </button>
      } @else if (item.type === 'ellipsis') {
        <span class="dots">…</span>
      }
    }
  </div>

  @if (directionLinks) {
    <button
      class="nav-button"
      [disabled]="disabled || isLastPage"
      (click)="goToNext()"
    >
      Next →
    </button>
  }

  @if (boundaryLinks) {
    <button
      class="nav-button"
      [disabled]="disabled || isLastPage"
      (click)="goToLast()"
    >
      »
    </button>
  }

  <div class="pagination-right">
    @if (showTotals && totalItems > 0) {
      <span class="totals">{{ fromItem }}–{{ toItem }} of {{ totalItems }}</span>
    }

    @if (showPageSizeSelector) {
      <label class="size-label">
        <span>Per page</span>
        <select
          [disabled]="disabled"
          [ngModel]="pageSize"
          (ngModelChange)="onSelectPageSize($event)"
        >
          @for (size of pageSizeOptions; track size) {
            <option [ngValue]="size">{{ size }}</option>
          }
        </select>
      </label>
    }
  </div>
</div>
