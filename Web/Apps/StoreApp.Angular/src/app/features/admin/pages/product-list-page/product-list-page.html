<div class="product-list-container">
  @if (productData$ | async; as productData) {
    <div class="product-list-header">
      <h2>Products</h2>
      <button class="add-product-button" (click)="onAddProduct()">
        Add Product
      </button>
    </div>

    <app-product-list
      [products]="productData.products!"
      (productClicked)="onProductSelected($event)"
      (productDeleted)="onProductDelete($event)">
    </app-product-list>

    @if (productData.isLoading) {
      <app-loading-spinner class="loading-spinner"/>
    }

    <app-pagination
      [totalItems]="productData.totalCount ?? 0"
      [pageSize]="productData.pageSize ?? 10"
      [currentPage]="productData.currentPage ?? 1"
      (pageChange)="onPageChange($event)"
      (pageSizeChange)="onPageSizeChange($event)">
    </app-pagination>
  }
</div>
