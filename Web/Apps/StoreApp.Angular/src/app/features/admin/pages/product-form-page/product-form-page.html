<div class="product-form-container">
  <div class="product-form-header">
    <h2>
      @if (isEditMode) { Edit } @else { Add } product
    </h2>
  </div>

  <form class="product-form" [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="form-field name-container">
      <label class="input-label">Name</label>
      <input formControlName="name" />
    </div>

    <div class="form-field description-container">
      <label class="input-label">Description</label>
      <textarea formControlName="description"></textarea>
    </div>

    <div class="form-field price-container">
      <label class="input-label">Price</label>
      <input type="number" formControlName="price" />
    </div>

    <div class="form-field image-container">
      @if (productForm.value.imageData || productForm.value.imageUrl) {
        <img
          [src]="productForm.value.imageData
            ? productForm.value.imageData
            : productForm.value.imageUrl"
          class="product-image"
        />
      }

      <app-file-input
        class="full-width"
        [buttonText]="'Load image'"
        (fileSelected)="onFileSelected($event)">
      </app-file-input>
    </div>

    <div class="form-field form-actions">
      <button type="submit">
        @if (isEditMode) { Update } @else { Add } product
      </button>
      <button type="button" (click)="onGoBack()">Go back</button>
    </div>
  </form>
</div>
